@model List<VeiculoModel>
@{
    ViewData["Title"] = "Veículos";
}

<!-- HEADER -->
<div class="mb-4 d-flex justify-content-between align-items-center">

    <div>
        <h2 class="fw-bold mb-1" style="color: var(--text-color);">Veículos</h2>
        <span class="text-muted">Gerencie todos os veículos cadastrados no sistema</span>
    </div>

    <a asp-controller="Veiculo" asp-action="Criar"
       class="btn btn-success shadow-sm px-4 py-2 d-flex align-items-center"
       style="border-radius: 12px;">
        <i class="bi bi-plus-circle me-2"></i> Novo Veículo
    </a>
</div>

<!-- ALERTAS -->
@if (TempData["MensagemSucesso"] != null)
{
    <div class="alert alert-success fade show shadow-sm border-0 rounded-3 d-flex align-items-center" role="alert">
        <i class="bi bi-check-circle-fill me-2"></i>
        @TempData["MensagemSucesso"]
        <button type="button" class="btn-close ms-auto" data-bs-dismiss="alert"></button>
    </div>
}

@if (TempData["MensagemErro"] != null)
{
    <div class="alert alert-danger fade show shadow-sm border-0 rounded-3 d-flex align-items-center" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        @TempData["MensagemErro"]
        <button type="button" class="btn-close ms-auto" data-bs-dismiss="alert"></button>
    </div>
}

<!-- CARD TABELA -->
<div class="card shadow-sm border-0 rounded-4 overflow-hidden">

    <div class="card-header py-3"
         style="background-color: var(--hover-bg); border-bottom: 1px solid rgba(0,0,0,0.1);">
        <h5 class="mb-0 fw-semibold" style="color: var(--text-color);">
            Lista de Veículos
        </h5>
    </div>

    <div class="table-responsive">
        <table class="table align-middle mb-0" style="color: var(--text-color);">

            <thead style="background-color: var(--hover-bg);">
                <tr>
                    <th>#</th>
                    <th>Carro</th>
                    <th>Modelo</th>
                    <th>Cor</th>
                    <th>Ano</th>
                    <th>Kilometragem</th>
                    <th>Ações</th>
                </tr>
            </thead>

            <tbody>
                @if (Model != null && Model.Any())
                {
                    foreach (var v in Model)
                    {
                        <tr style="transition: none;">
                            <td>@v.Id</td>
                            <td class="fw-semibold">@v.Carro</td>
                            <td>@v.Modelo</td>
                            <td>@v.Cor</td>
                            <td>@v.Ano</td>
                            <td>@v.Kilometragem</td>

                            <td>
                                <div class="d-flex justify-content-center gap-2">

                                    <a asp-controller="Veiculo" asp-action="Vender" asp-route-id="@v.Id"
                                       class="btn btn-outline-success btn-sm px-3 py-1 shadow-sm"
                                       style="border-radius: 8px;">
                                        <i class="bi bi-cash-coin me-1"></i> Vender
                                    </a>

                                    <a asp-controller="Veiculo" asp-action="Editar" asp-route-id="@v.Id"
                                       class="btn btn-outline-primary btn-sm px-3 py-1 shadow-sm"
                                       style="border-radius: 8px;">
                                        <i class="bi bi-pencil-square me-1"></i> Editar
                                    </a>

                                    <a asp-controller="Veiculo" asp-action="ApagarConfimar" asp-route-id="@v.Id"
                                       class="btn btn-outline-danger btn-sm px-3 py-1 shadow-sm"
                                       style="border-radius: 8px;">
                                        <i class="bi bi-trash me-1"></i> Apagar
                                    </a>

                                </div>
                            </td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="7" class="py-4 text-muted text-center">
                            <i class="bi bi-info-circle me-2"></i> Nenhum veículo encontrado.
                        </td>
                    </tr>
                }
            </tbody>

        </table>
    </div>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

<style>
    /* Remove hover da tabela */
    table tr, table td, table th {
        transition: none !important;
    }

    table tbody tr:hover {
        background-color: inherit !important;
        cursor: default;
    }

    /* Botões */
    .btn-sm {
        transition: 0.2s ease-in-out;
    }

        .btn-sm:hover {
            opacity: .9;
            transform: scale(1.04);
        }

</style>
